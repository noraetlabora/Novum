<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true" throwExceptions="true">

    <targets async="true">
        <target name="JsonFile" xsi:type="File" layout="${date:format=yyyyMMdd|HHmmssfff}|${level}|${message}" fileName="${basedir}/logs/${date:format=yyyyMMdd}Json.log" maxArchiveFiles="7" archiveEvery="Day"/>
        <target name="ServerFile" xsi:type="File" layout="${date:format=yyyyMMdd|HHmmssfff}|${level}|${message}" fileName="${basedir}/logs/${date:format=yyyyMMdd}Server.log" maxArchiveFiles="7" archiveEvery="Day"/>
        <target name="DatabaseFile" xsi:type="File" layout="${date:format=yyyyMMdd|HHmmssfff}|${level}|${message}" fileName="${basedir}/logs/${date:format=yyyyMMdd}Database.log" maxArchiveFiles="7" archiveEvery="Day"/>
    </targets>

    <rules>
        <logger name="JsonLog" minlevel="Debug" writeTo="JsonFile" />
        <logger name="DatabaseLog" minlevel="Debug" writeTo="DatabaseFile" />
        <logger name="*" minlevel="Warn" writeTo="ServerFile" />
    </rules>

</nlog>