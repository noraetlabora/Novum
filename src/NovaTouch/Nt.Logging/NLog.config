<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true" throwExceptions="true" keepFileOpen="true">

    <targets async="true">
        <target name="CommunicationFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="./logs/Communication.log" archiveFileName="./logs/{#}.Communication.log" archiveNumbering="Date" archiveDateFormat="yyyyMMdd" archiveEvery="Day" maxArchiveFiles="14"/>
        <target name="DatabaseFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="./logs/Database.log" archiveFileName="./logs/{#}.Database.log" archiveNumbering="Date" archiveDateFormat="yyyyMMdd" archiveEvery="Day" maxArchiveFiles="14"/>
        <target name="ServerFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="./logs/Server.log" archiveFileName="./logs/{#}.Server.log" archiveNumbering="Date" archiveDateFormat="yyyyMMdd" archiveEvery="Day" maxArchiveFiles="14"/>
        <target name="ServiceFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="./logs/Service.log" archiveFileName="./logs/{#}.Service.log" archiveNumbering="Date" archiveDateFormat="yyyyMMdd" archiveEvery="Day" maxArchiveFiles="14"/>
        <target name="FiscalFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="./logs/Fiscal.log" archiveFileName="./logs/{#}.Fiscal.log" archiveNumbering="Date" archiveDateFormat="yyyyMMdd" archiveEvery="Day" maxArchiveFiles="14"/>
    </targets>

    <rules>
        <logger name="CommunicationLog" minlevel="Info" writeTo="CommunicationFile" />
        <logger name="DatabaseLog" minlevel="Info" writeTo="DatabaseFile" />
        <logger name="ServerLog" minlevel="Info" writeTo="ServerFile" />
        <logger name="ServiceLog" minlevel="Info" writeTo="ServiceFile" />
        <logger name="FiscalLog" minlevel="Info" writeTo="FiscalFile" />
    </rules>

</nlog>