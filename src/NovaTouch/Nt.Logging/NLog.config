<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" autoReload="true" throwExceptions="true">

    <targets async="true">
        <target name="CommunicationFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="${basedir}/logs/${shortdate}Communication.log" maxArchiveFiles="7" archiveEvery="Day"/>
        <target name="ServerFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="${basedir}/logs/${shortdate}Server.log" maxArchiveFiles="7" archiveEvery="Day"/>
        <target name="DatabaseFile" xsi:type="File" layout="${shortdate}|${time}|${level}|${message}${exception:format=message}${exception:format=stacktrace}" fileName="${basedir}/logs/${shortdate}Database.log" maxArchiveFiles="7" archiveEvery="Day"/>
    </targets>

    <rules>
        <logger name="CommunicationLog" minlevel="Info" writeTo="CommunicationFile" />
        <logger name="DatabaseLog" minlevel="Info" writeTo="DatabaseFile" />
        <logger name="ServerLog" minlevel="Info" writeTo="ServerFile" />
    </rules>

</nlog>